module.exports = function(id) {
    // for some reason requiring the below globally doesn't work here. 
    var mongo = require('mongodb');
    var BSON = mongo.BSONPure;
    //   console.log(__filename + '::_as_oid: id ' + id);
    if (typeof(id) == 'string') {
        if (this.string_id) {
            //    console.log(__filename, ' (as string)');
            var out = id;
        } else {
            var out = new BSON.ObjectID(id);
          //  console.log('BSONifying ', id, ', out = ', util.inspect(out), ': type = ', typeof out);
        }
    } else {
        //   console.log(__filename, 'id != string: ', id);
        var out = id;
    }

    //  console.log(__filename, ': input: ', id, ', returning: ', out, ': type: ', typeof out);
    return out;
}