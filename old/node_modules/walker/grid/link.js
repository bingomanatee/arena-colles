module.exports = function() {
        console.log(__filename, ': linking Grid');
    var self = this;
    this.points_array.forEach(function(p) {
        var ordinals = _.map(self._compass_points, function(c) {
         //   console.log(__filename, ': testing compass point ', c, ' against point ', p.i, ',', p.j);
            var out = {
                i: c[0] + p.i,
                j: c[1] + p.j,
                c: c[2]
            };
            
            //console.log(': out = ', out);
            
            return out;
        });
        ordinals = _.select(ordinals, self.on_map);
        ordinals.forEach(function(o) {
            try {
                var neighbor = self.p(o);
                p.compass[o.c] = neighbor;
                p.compass_array.push(neighbor);
            } catch (e) {
              //  console.log('not adding ', o, ': err: ', e);
            }
          //  console.log('');
        });
    })
}