var mu = require('util/math');

module.exports = function(h, base, ctx_image) {
    var rb = h / 2;
    var r = mu.clamp(rb, 0, 255, true);
    var gb = (Math.abs(h) / 10);
    var g = mu.clamp(gb, 0, 255, true);
    if (h < 0) g = 255 - g;
    if (h > 0) {
        var bb = h / 15 - 100; //Math.abs(Math.sqrt(h));
    } else {
        var bb = 255 +  h / 100;

    }
    var b = mu.clamp(bb, 0, 255, true);
    if (ctx_image) {
        ctx_image.data[base] = r
        ctx_image.data[base + 1] = g
        ctx_image.data[base + 2] = b
        ctx_image.data[base + 3] = 255;
    } else {
        return [r, g, b];
    }
}