module.exports = function(samp, bins) {

    var s_start = Math.floor(bins.length / 2);
    for (var i = 0; i < samp.length; ++i) {
        var h = samp[i];
        var bin_index = s_start;
        var bin_fl = 0;
        var bin_cl = bins.length - 1;

        var matched = false;

        while (!matched) {
            var bin = bins[bin_index];
            if (bin_fl == bin_cl) {
                matched = true;
                ++bin.count;
            } else if (h > bin.gt) {
                if (h <= bin.up_to) {
                    matched = true;
                    ++bin.count;
                } else {
                    bin_fl = bin_index;
                    bin_index = Math.ceil((bin_index + bin_cl) / 2);
                }
            } else {
                bin_cl = bin_index;
                bin_index = Math.floor((bin_index + bin_fl) / 2);
            }
        }
    }
}