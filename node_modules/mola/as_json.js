
var Math_utils  = require('util/math');

module.exports = function(min, max){
        var out = {heights: [], map: this.map_id, north: this.north, east: this.east, west: this.west, south: this.south};
        
        function _height_float(h){
            return Math_utils.clamp( (h - min) / (max - min), 0, 1);    
        };
        var self = this;
        console.log('heights: ', this.data.length, '; expected: ', this.rows * this.cols);
        for (var i = 0; i < this.rows; ++i){
            out.heights.push(_.map(self.data.slice(i * this.cols, (i + 1) * this.cols), _height_float));
        }
        
        return out;
    }