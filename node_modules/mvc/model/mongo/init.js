module.exports = function(model_module, callback) {
    if (model_module.hasOwnProperty(config)) {
        var config = model_module.config;
    } else {
        var config = {};
    }

    if (model_module.hasOwnProperty('mixins')) {
        var mixins = model_module.mixins;
    } else {
        var mixins = {};
    }

    if (model_module.hasOwnProperty('name')) {
        var name = model_module.name;
    } else if (model_module.hasOwnProperty('collection')) {
        var name = model_module.collection;
    };

    if (!name) {
        callback(new Error('cannot find model name.'));
    } else {
        //     // console.log(__filename, ':: init: mixins for ', name, ', mixins: ', mixins);
        this.make_model(name, config, mixins, function(err, model) {
            if (err) {
                callback(err);
            } else {
                model_module._model = model;
                if (model.on_load) {
                    console.log('initializing model ', name, ' on_load', model.on_load);
                    model.on_load(model, callback);
                } else {
                    console.log('NOT initializing model ', name, ' on_load');
                    callback(null, model);
                }
            }
        });
    }
}