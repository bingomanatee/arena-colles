var string_utils = require('util/string');

module.exports = function(context) {

    self.model.get(request.params.id, function(err, item) {
        if (err) {
            next(err);
        } else if (item) {
            var params = {
                controller: self.name,
                controller_title: string_utils.title_case(self.name)
            };
            params[self.name] = params.item = item;
            response.render(self._views.delete, params);
        } else {
            next(new Error('cannot get ' + self.name + ' ' + request.params.id + ' for deletion'));
        }
    });

}